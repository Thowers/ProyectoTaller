DROP DATABASE HOPERECORDS;
CREATE DATABASE HOPERECORDS;
USE HOPERECORDS

CREATE TABLE ARTISTA
(
ID_ARTISTA MEDIUMINT PRIMARY KEY AUTO_INCREMENT,
ID_LIDER MEDIUMINT NULL,
NOMBRE VARCHAR(50) NOT NULL,
DEBUT INT NOT NULL,
CONTRATO VARCHAR(50) NOT NULL,
GENERO VARCHAR(50) NOT NULL,
ESTADO VARCHAR(50)NOT NULL,
PAIS VARCHAR(50) NOT NULL
)ENGINE=InnoDB;

CREATE TABLE MIEMBRO
(
ID_MIEMBRO MEDIUMINT PRIMARY KEY AUTO_INCREMENT,
NOMBRE VARCHAR(50) NOT NULL,
APELLIDO VARCHAR(50) NOT NULL,
NACIMIENTO DATE NOT NULL,
NICK VARCHAR(50) NULL,
NACIONALIDAD VARCHAR(50) NOT NULL,
BANDA VARCHAR(50) NULL,
INSTRUMENTO VARCHAR(50) NOT NULL
)ENGINE=InnoDB;

CREATE TABLE STREAMING
(
ID_STREAMING MEDIUMINT PRIMARY KEY AUTO_INCREMENT,
ID_ARTISTA_ALBUM MEDIUMINT NOT NULL,
PLATAFORMA VARCHAR(50) NOT NULL,
FECHA DATE NOT NULL
)ENGINE=InnoDB;

CREATE TABLE CANCION
(
ID_CANCION MEDIUMINT PRIMARY KEY AUTO_INCREMENT,
ID_ARTISTA_ALBUM MEDIUMINT NOT NULL,
NOMBRE VARCHAR(50) NOT NULL,
IS_SINGLE VARCHAR(50) NOT NULL,
SALIDA DATE NOT NULL
)ENGINE=InnoDB;

CREATE TABLE CONCIERTO
(
ID_CONCIERTO MEDIUMINT PRIMARY KEY AUTO_INCREMENT,
ID_TOUR MEDIUMINT NOT NULL,
ID_TICKET MEDIUMINT NOT NULL,
ID_ARTISTA MEDIUMINT NOT NULL, 
ID_RECINTO MEDIUMINT NOT NULL,
ID_RIDER MEDIUMINT NOT NULL,
ID_PROMOTOR MEDIUMINT NOT NULL,
FECHA DATE NOT NULL
)ENGINE=InnoDB;

CREATE TABLE RIDER
(
ID_RIDER MEDIUMINT PRIMARY KEY AUTO_INCREMENT,
ID_ARTISTA MEDIUMINT NOT NULL,
TIPO VARCHAR(50) NOT NULL,
CANTIDAD MEDIUMINT NOT NULL
)ENGINE=InnoDB;

CREATE TABLE MERCH
(
ID_MERCH MEDIUMINT PRIMARY KEY AUTO_INCREMENT,
ID_ARTISTA MEDIUMINT NOT NULL,
TIPO VARCHAR(50) NOT NULL,
COLOR VARCHAR(50) NOT NULL,
VALOR MEDIUMINT NOT NULL
)ENGINE=InnoDB;

CREATE TABLE VENTA
(
ID_VENTA MEDIUMINT PRIMARY KEY AUTO_INCREMENT,
ID_FACTURA MEDIUMINT NOT NULL,
ID_MERCH MEDIUMINT NOT NULL,
FECHA DATE NOT NULL,
VALOR MEDIUMINT NOT NULL,
DESTINO VARCHAR(50) NOT NULL
)ENGINE=InnoDB;

CREATE TABLE CLIENTE
(
ID_CLIENTE MEDIUMINT PRIMARY KEY AUTO_INCREMENT
)ENGINE=InnoDB;

CREATE TABLE USUARIO_CLIENTE
(
ID_USER_CLIENTE MEDIUMINT PRIMARY KEY AUTO_INCREMENT,
ID_CLIENTE MEDIUMINT NOT NULL,
ID_USER MEDIUMINT NOT NULL
)ENGINE=InnoDB;

CREATE TABLE USUARIO
(
ID_USER MEDIUMINT PRIMARY KEY AUTO_INCREMENT,
NOMBRE VARCHAR(50) NOT NULL,
PAIS VARCHAR(50) NOT NULL,
USUARIO VARCHAR(50) NOT NULL,
CONTRA VARCHAR(50) NOT NULL,
EMAIL VARCHAR(120) UNIQUE NOT NULL
)ENGINE=InnoDB;

CREATE TABLE CONTACTO_USER
(
ID_CONTACTO MEDIUMINT PRIMARY KEY AUTO_INCREMENT,
ID_USER MEDIUMINT NOT NULL,
NUMERO MEDIUMINT NOT NULL,
DIRECCION VARCHAR(50) NOT NULL,
CORRE VARCHAR(50) NOT NULL
)ENGINE=InnoDB;

CREATE TABLE PREORDEN
(
ID_PREORDEN MEDIUMINT PRIMARY KEY AUTO_INCREMENT,
ID_ALBUM MEDIUMINT NOT NULL,
ID_CLIENTE MEDIUMINT NOT NULL,
FECHA DATE NOT NULL
)ENGINE=InnoDB;

CREATE TABLE FACTURA
(
ID_FACTURA MEDIUMINT PRIMARY KEY AUTO_INCREMENT,
ID_EMPLEADO MEDIUMINT NOT NULL,
ID_MERCH MEDIUMINT NOT NULL,
FECHA DATE NOT NULL,
VALOR MEDIUMINT NOT NULL,
CANTIDAD MEDIUMINT NOT NULL
)ENGINE=InnoDB;

CREATE TABLE VIDEO
(
ID_VIDEO MEDIUMINT PRIMARY KEY AUTO_INCREMENT,
ID_CANCION MEDIUMINT NOT NULL,
NOMBRE VARCHAR(50) NOT NULL,
TIPO VAARCHAR(50) NOT NULL,
LOCACION VARCHAR(50) NOT NULL
)ENGINE=InnoDB;

CREATE TABLE VALORACION
(
ID_VALORACION MEDIUMINT PRIMARY KEY AUTO_INCREMENT,
ID_ARTISTA_ALBUM MEDIUMINT NOT NULL,
ID_CANCION MEDIUMINT NOT NULL,
PUNTUACION VARCHAR(50) NOT NULL,
COMENTARIOS TEXT NULL
)ENGINE=InnoDB;

CREATE TABLE EMPLEADO 
(
ID_EMPLEADO MEDIUMINT PRIMARY KEY AUTO_INCREMENT,
NOMBRE VARCHAR(50) NOT NULL,
APELLIDO VARCHAR(50) NOT NULL,
CARGO MEDIUMINT(50) NOT NULL
)ENGINE=InnoDB;

CREATE TABLE CONTACTO_EMP
(
ID_CONTACTO MEDIUMINT PRIMARY KEY AUTO_INCREMENT,
ID_EMPLEADO MEDIUMINT NOT NULL,
NUMERO MEDIUMINT NOT NULL,
DIRECCION VARCHAR(50) NOT NULL,
CORREO VARCHAR(50) NOT NULL
)ENGINE=InnoDB;

CREATE TABLE TICKET
(
ID_TICKET MEDIUMINT PRIMARY KEY AUTO_INCREMENT,
FECHA DATE NOT NULL,
TIPO VARCHAR(50) NOT NULL,
ESTADO VARCHAR(50) NOT NULL
)ENGINE=InnoDB;

CREATE TABLE RECINTO
(
ID_RECINTO MEDIUMINT PRIMARY KEY AUTO_INCREMENT,
CAPACIDAD MEDIUMINT NOT NULL,
NOMBRE VARCHAR(50) NOT NULL,
TIPO VARCHAR(50) NOT NULL,
HORARIO TIME NOT NULL
)ENGINE=InnoDB;

CREATE TABLE PROMOTOR
(
ID_PROMOTOR MEDIUMINT PRIMARY KEY AUTO_INCREMENT,
NOMBRE VARCHAR(50) NOT NULL,
TIPO VARCHAR(50) NOT NULL,
EXPERIENCIA LONGTEXT NOT NULL
)ENGINE=InnoDB;

CREATE TABLE CONTACTO_PROMOTOR
(
ID_CONTACTO MEDIUMINT PRIMARY KEY AUTO_INCREMENT,
ID_PROMOTOR MEDIUMINT NOT NULL,
NUMERO MEDIUMINT NOT NULL,
DIRECCION VARCHAR(50) NOT NULL,
CORREO VARCHAR(50) NOT NULL
)ENGINE=InnoDB;

CREATE TABLE NOTIFICACION
(
ID_NOTIFICACION MEDIUMINT PRIMARY KEY AUTO_INCREMENT,
ID_USER MEDIUMINT NOT NULL,
MEDIO VARCHAR(50) NOT NULL,
FECHA DATE NOT NULL
)ENGINE=InnoDB;

CREATE TABLE TOUR
(
ID_TOUR MEDIUMINT PRIMARY KEY AUTO_INCREMENT,
ID_ARTISTA MEDIUMINT NOT NULL,
ID_PROMOTOR MEDIUMINT NOT NULL,
NOMBRE VARCHAR(50) NOT NULL,
INICIO DATE NOT NULL,
FIN DATE NOT NULL,
PRESUPUESTO INT NOT NULL,
ESTADO VARCHAR(50) NOT NULL,
TIPO VARCHAR(50) NOT NULL
)ENGINE=InnoDB;

CREATE TABLE DISTRIBUIDOR
(
ID_DISTRIBUIDOR MEDIUMINT PRIMARY KEY AUTO_INCREMENT,
ID_MERCH MEDIUMINT NOT NULL,
NOMBRE VARCHAR(50) NOT NULL,
PAIS VARCHAR(50) NOT NULL
)ENGINE=InnoDB;

CREATE TABLE CONTACTO_DISTRIBUIDOR
(
ID_CONTACTO MEDIUMINT PRIMARY KEY AUTO_INCREMENT,
ID_DISTRIBUIDOR MEDIUMINT NOT NULL,
NUMERO MEDIUMINT NOT NULL,
DIRECCION VARCHAR(50) NOT NULL,
CORREO VARCHAR(50) NOT NULL
)ENGINE=InnoDB;

CREATE TABLE CONTRATO
(
ID_CONTRATO MEDIUMINT PRIMARY KEY AUTO_INCREMENT,
ID_ARTISTA MEDIUMINT NOT NULL,
INICIO DATE NOT NULL,
FIN DATE NULL,
ESTADO VARCHAR(50) NOT NULL,
COMPENSACION INT NOT NULL
)ENGINE=InnoDB;

CREATE TABLE ARTISTA_ALBUM
(
ID_ARTISTA_ALBUM MEDIUMINT PRIMARY KEY AUTO_INCREMENT,
ID_ARTISTA MEDIUMINT NOT NULL,
NOMBRE VARCHAR(50) NOT NULL,
SALIDA DATE NOT NULL
)ENGINE=InnoDB;
